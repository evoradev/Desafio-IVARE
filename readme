Desafio IVARE ‚Äî API Django

API backend desenvolvida em Django + Django REST Framework, utilizando boas pr√°ticas de engenharia de software, isolamento de ambiente, configura√ß√£o por vari√°veis de ambiente e banco de dados MySQL em container.

Desenvolvido por Rafael √âvora ‚Äî @evoradev üöÄ

Objetivo do Projeto

Construir uma API robusta e escal√°vel para gerenciamento de dados relacionados a pets e vacinas, com foco em:

Padroniza√ß√£o de ambiente entre desenvolvedores

Seguran√ßa de credenciais via vari√°veis de ambiente

Arquitetura modular com apps independentes

Prepara√ß√£o para deploy em produ√ß√£o

üõ† Tecnologias Utilizadas

Python 3

Django

Django REST Framework

MySQL (Docker)

python-dotenv

Git / GitHub

Gerenciamento de Depend√™ncias

Todas as depend√™ncias do projeto s√£o controladas via:

pip freeze > requirements.txt

Isso garante que qualquer desenvolvedor consiga reproduzir exatamente o mesmo ambiente.

Estrutura do Projeto
Desafio IVARE/
‚îú‚îÄ‚îÄ core/              # Configura√ß√µes principais do projeto
‚îú‚îÄ‚îÄ pet/               # App respons√°vel pelo dom√≠nio de pets
‚îú‚îÄ‚îÄ vaccine/           # App respons√°vel pelo dom√≠nio de vacinas
‚îú‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md

Etapas Realizadas no Projeto
1. Cria√ß√£o do ambiente virtual (venv)

Foi criado um ambiente virtual Python para:

Isolar depend√™ncias do sistema operacional

Garantir compatibilidade entre m√°quinas

Evitar conflitos de vers√µes

Comandos:

python -m venv venv
venv\Scripts\activate

2. Instala√ß√£o do Django e Django REST Framework

Dentro da venv:

pip install django djangorestframework


Essas bibliotecas s√£o a base do backend e da constru√ß√£o da API REST.

3. Cria√ß√£o do projeto Django
django-admin startproject core .


Servidor local:

python manage.py runserver

4. Cria√ß√£o dos apps pet e vaccine
python manage.py startapp pet
python manage.py startapp vaccine


Cada app representa um dom√≠nio isolado da aplica√ß√£o.

5. Configura√ß√£o do Django REST Framework

Instala√ß√£o e registro no settings.py:

INSTALLED_APPS = [
    ...
    'rest_framework',
    'pet',
    'vaccine',
]


Permitindo cria√ß√£o de APIs REST de forma estruturada.

6. Versionamento com Git e cria√ß√£o do .gitignore

Inicializa√ß√£o do reposit√≥rio Git

Primeiro commit

Cria√ß√£o de .gitignore para evitar versionamento de arquivos sens√≠veis e pesados:

venv/
.env
__pycache__/
*.pyc

7. Migra√ß√£o de SQLite para MySQL com .env

O banco padr√£o db.sqlite3 foi substitu√≠do por MySQL, com configura√ß√£o via vari√°veis de ambiente para seguran√ßa e portabilidade.

Instala√ß√£o:

pip install mysqlclient python-dotenv


Arquivo .env (exemplo):

SECRET_KEY=sua_chave_secreta
DEBUG=True

DB_NAME=meubanco
DB_USER=root
DB_PASSWORD=senha123
DB_HOST=db
DB_PORT=3306

MYSQL_ROOT_PASSWORD=root_pass
MYSQL_DATABASE=dev_db
MYSQL_USER=app_user
MYSQL_PASSWORD=app_pass

ALLOWED_HOSTS=127.0.0.1,localhost

Configura√ß√£o no settings.py:

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': os.getenv("DB_NAME"),
        'USER': os.getenv("DB_USER"),
        'PASSWORD': os.getenv("DB_PASSWORD"),
        'HOST': os.getenv("DB_HOST"),
        'PORT': os.getenv("DB_PORT"),
    }
}

8. Dockeriza√ß√£o: 
Cria√ß√£o do container docker
Arquivos .dockerignore (ignorar desnecess√°rios para o container), Dockerfile (config geral do docker no projeto) e docker-compose.yml (configura√ß√£o do container do banco de dados MySQL e web).

√â possivel usar os comandos docker para buildar e rodar o projeto.

9. Desenvolvimento de endpoints REST para pets, incluindo model, serializer e views, seguindo as boas pr√°ticas de desenvolvimento de APIs RESTful. 
Endpoints implementados:

GET /api/pets/ - Listar todos os pets   
POST /api/pets/ - Criar um novo pet
GET /api/pets/{id}/ - Detalhes de um pet espec√≠fico
PUT /api/pets/{id}/ - Atualizar um pet espec√≠fico
DELETE /api/pets/{id}/ - Deletar um pet espec√≠fico

Testes funcinonais executados via Insomnia e DBeaver tudo funcionando corretamente. 
Obs.: Ao conectar ao bando de dados MySQL via DBeaver, use as credenciais definidas no .env para garantir acesso ao banco do container.
**Al√©m disso, a porta definida no docker-compose.yml √© 3307 para evitar conflitos com MySQL local, verifique esse ponto para garantir a conex√£o correta.



